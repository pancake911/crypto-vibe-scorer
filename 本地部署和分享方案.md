# 本地部署和分享方案

## 问题解答

### Q1: 本地运行能否看到OI数据？
**答案：是的！** 

本地运行可以正常获取OI数据，因为：
- 你的本地IP没有被Binance限制（只有Vercel的IP段被限制）
- 所有API调用都会从你的电脑发出，Binance API可以正常响应

### Q2: 本地运行的版本只能自己用吗？
**答案：默认只能本机访问，但可以通过多种方式分享给他人**

## 本地运行方式

### 方式1: 仅本机访问（最简单）
```bash
npm run dev
```
- 访问地址：`http://localhost:3000`
- 只能你自己访问
- 适合：个人使用、开发测试

### 方式2: 局域网访问（同一WiFi/网络）
```bash
# 修改启动命令，允许局域网访问
npm run dev -- -H 0.0.0.0
# 或者
HOST=0.0.0.0 npm run dev
```

- 访问地址：`http://你的内网IP:3000`（例如：`http://192.168.1.100:3000`）
- 同一WiFi/局域网内的设备都可以访问
- 适合：办公室、家庭网络内分享

**查看你的内网IP**：
- Mac: `ifconfig | grep "inet " | grep -v 127.0.0.1`
- Windows: `ipconfig`（查看IPv4地址）
- Linux: `hostname -I`

### 方式3: 公网访问（任何人都可以访问）

#### 方案A: 使用内网穿透工具（免费/付费）

**免费选项**：
1. **ngrok**（推荐）
   ```bash
   # 安装ngrok
   npm install -g ngrok
   # 或下载: https://ngrok.com/download
   
   # 启动你的应用
   npm run dev
   
   # 在另一个终端运行ngrok
   ngrok http 3000
   ```
   - 会得到一个公网URL（例如：`https://abc123.ngrok.io`）
   - 免费版有限制（连接数、带宽）
   - 适合：临时分享、测试

2. **localtunnel**
   ```bash
   npm install -g localtunnel
   lt --port 3000
   ```
   - 免费，但可能不稳定

3. **Cloudflare Tunnel**（免费）
   ```bash
   # 安装cloudflared
   cloudflared tunnel --url http://localhost:3000
   ```
   - 免费且稳定
   - 需要Cloudflare账号

**付费选项**：
- ngrok付费版：$8/月起（更稳定，自定义域名）
- serveo.net：免费但有限制

#### 方案B: 部署到服务器（推荐用于长期使用）

如果你有服务器（VPS），可以：
1. 在服务器上运行应用
2. 配置域名和SSL证书
3. 任何人都可以通过域名访问

**成本**：
- VPS: $5-10/月（DigitalOcean, Vultr等）
- 域名: $10-15/年（可选）

## 方案对比

| 方案 | 成本 | 访问范围 | 稳定性 | 适合场景 |
|------|------|----------|--------|----------|
| 本机访问 | 免费 | 仅自己 | 高 | 个人使用 |
| 局域网访问 | 免费 | 同一网络 | 高 | 办公室/家庭 |
| ngrok免费 | 免费 | 公网 | 中 | 临时分享 |
| ngrok付费 | $8/月 | 公网 | 高 | 小团队 |
| 部署到VPS | $5-10/月 | 公网 | 高 | 长期使用 |
| Vercel部署 | 免费 | 公网 | 高 | 但OI数据被限制 |

## 推荐方案

### 场景1: 只想自己用
- 使用：`npm run dev`
- 访问：`http://localhost:3000`

### 场景2: 想给同事/朋友用（同一网络）
- 使用：`HOST=0.0.0.0 npm run dev`
- 分享：你的内网IP地址
- 例如：`http://192.168.1.100:3000`

### 场景3: 想给任何人用（公网访问）
- **临时分享**：使用ngrok（免费）
- **长期使用**：部署到VPS服务器（$5-10/月）

## 快速开始：局域网分享

1. 启动应用（允许局域网访问）：
   ```bash
   HOST=0.0.0.0 npm run dev
   ```

2. 查看你的内网IP：
   ```bash
   # Mac/Linux
   ifconfig | grep "inet " | grep -v 127.0.0.1
   
   # Windows
   ipconfig
   ```

3. 分享地址给同一网络的人：
   ```
   http://你的内网IP:3000
   ```

4. 确保防火墙允许3000端口（如果需要）

## 注意事项

1. **安全性**：如果使用公网访问，确保不要暴露敏感信息
2. **性能**：本地运行性能取决于你的电脑配置
3. **稳定性**：你的电脑需要一直开着，应用才能访问
4. **网络**：局域网访问需要同一网络（WiFi/有线）

## 总结

- ✅ 本地运行可以正常获取OI数据
- ✅ 可以分享给局域网内的其他人（同一WiFi）
- ✅ 可以通过内网穿透工具分享给公网用户（免费但有限制）
- ✅ 长期使用建议部署到VPS服务器

